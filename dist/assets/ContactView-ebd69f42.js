import{f as w,o as d,c,a,g as f,h as M,i as k,v as j,n as S,t as h}from"./index-e378d737.js";class x{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const C=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},i={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:C()},P=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},F=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=P(e);i.publicKey=s.publicKey,i.blockHeadless=s.blockHeadless,i.storageProvider=s.storageProvider,i.blockList=s.blockList,i.limitRate=s.limitRate,i.origin=s.origin||t},L=async(e,t,s={})=>{const l=await fetch(i.origin+e,{method:"POST",headers:s,body:t}),o=await l.text(),n=new x(l.status,o);if(l.ok)return n;throw n},T=(e,t,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},q=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},R=e=>e.webdriver||!e.languages||e.languages.length===0,V=()=>new x(451,"Unavailable For Headless Browser"),N=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},_=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},U=(e,t)=>e instanceof FormData?e.get(t):e[t],E=(e,t)=>{if(_(e))return!1;N(e.list,e.watchVariable);const s=U(t,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},H=()=>new x(403,"Forbidden"),O=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},D=async(e,t,s)=>{const l=Number(await s.get(e)||0);return t-Date.now()+l},B=async(e,t,s)=>{if(!t.throttle||!s)return!1;O(t.throttle,t.id);const l=t.id||e;return await D(l,t.throttle,s)>0?!0:(await s.set(l,Date.now().toString()),!1)},K=()=>new x(429,"Too Many Requests"),z=async(e,t,s,l)=>{const o=P(l),n=o.publicKey||i.publicKey,b=o.blockHeadless||i.blockHeadless,g=o.storageProvider||i.storageProvider,p={...i.blockList,...o.blockList},v={...i.limitRate,...o.limitRate};return b&&R(navigator)?Promise.reject(V()):(T(n,e,t),q(s),s&&E(p,s)?Promise.reject(H()):await B(location.pathname,v,g)?Promise.reject(K()):L("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:n,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"}))},A=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},I=e=>typeof e=="string"?document.querySelector(e):e,J=async(e,t,s,l)=>{const o=P(l),n=o.publicKey||i.publicKey,b=o.blockHeadless||i.blockHeadless,g=i.storageProvider||o.storageProvider,p={...i.blockList,...o.blockList},v={...i.limitRate,...o.limitRate};if(b&&R(navigator))return Promise.reject(V());const y=I(s);T(n,e,t),A(y);const u=new FormData(y);return E(p,u)?Promise.reject(H()):await B(location.pathname,v,g)?Promise.reject(K()):(u.append("lib_version","4.4.1"),u.append("service_id",e),u.append("template_id",t),u.append("user_id",n),L("/api/v1.0/email/send-form",u))},$={init:F,send:z,sendForm:J,EmailJSResponseStatus:x},G={class:"min-h-screen bg-white py-16"},W={class:"container mx-auto px-4"},Y={key:0,class:"fixed top-4 right-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert"},Q={key:1,class:"fixed top-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert"},X={class:"max-w-2xl mx-auto"},Z={key:0,class:"text-red-500 text-sm mt-1"},ee={key:0,class:"text-red-500 text-sm mt-1"},te={key:0,class:"text-red-500 text-sm mt-1"},se={key:0,class:"text-red-500 text-sm mt-1"},re=["disabled"],oe={__name:"ContactView",setup(e){const t=w({name:"",email:"",subject:"",message:""}),s=w({}),l=w(!1),o=w(!1),n=w(!1),b="service_z2yb0ao",g="contact_form",p="5hPvNUuzRU6-tDGon";console.log("EmailJS Config:",{serviceId:b,templateId:g,publicKey:"Set"});const v=()=>(s.value={},t.value.name||(s.value.name="Name is required"),t.value.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.value.email)||(s.value.email="Please enter a valid email address"):s.value.email="Email is required",t.value.subject||(s.value.subject="Subject is required"),t.value.message||(s.value.message="Message is required"),Object.keys(s.value).length===0),y=async()=>{if(v()){l.value=!0,o.value=!1,n.value=!1;try{const u={from_name:t.value.name,from_email:t.value.email,subject:t.value.subject,message:t.value.message,to_name:"Grand Kru Technologies",reply_to:t.value.email};if((await $.send(b,g,u,p)).status===200)t.value={name:"",email:"",subject:"",message:""},o.value=!0;else throw new Error("Email sending failed")}catch(u){console.error("Error sending email:",u),n.value=!0}finally{l.value=!1}}};return(u,r)=>(d(),c("div",G,[a("div",W,[r[16]||(r[16]=a("h1",{class:"text-4xl font-bold text-primary text-center mb-12"},"Contact Us",-1)),o.value?(d(),c("div",Y,[r[7]||(r[7]=a("strong",{class:"font-bold"},"Success!",-1)),r[8]||(r[8]=a("span",{class:"block sm:inline"}," Your message has been sent successfully.",-1)),a("span",{class:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:r[0]||(r[0]=m=>o.value=!1)},r[6]||(r[6]=[a("svg",{class:"fill-current h-6 w-6 text-green-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[a("title",null,"Close"),a("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})],-1)]))])):f("",!0),n.value?(d(),c("div",Q,[r[10]||(r[10]=a("strong",{class:"font-bold"},"Error!",-1)),r[11]||(r[11]=a("span",{class:"block sm:inline"}," An error occurred. Please try again.",-1)),a("span",{class:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:r[1]||(r[1]=m=>n.value=!1)},r[9]||(r[9]=[a("svg",{class:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[a("title",null,"Close"),a("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})],-1)]))])):f("",!0),a("div",X,[a("form",{onSubmit:M(y,["prevent"]),class:"space-y-6"},[a("div",null,[r[12]||(r[12]=a("label",{for:"name",class:"block text-dark-gray font-medium mb-2"},"Name",-1)),k(a("input",{type:"text",id:"name","onUpdate:modelValue":r[2]||(r[2]=m=>t.value.name=m),class:S(["w-full px-4 py-2 border border-medium-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",{"border-red-500":s.value.name}])},null,2),[[j,t.value.name]]),s.value.name?(d(),c("p",Z,h(s.value.name),1)):f("",!0)]),a("div",null,[r[13]||(r[13]=a("label",{for:"email",class:"block text-dark-gray font-medium mb-2"},"Email",-1)),k(a("input",{type:"email",id:"email","onUpdate:modelValue":r[3]||(r[3]=m=>t.value.email=m),class:S(["w-full px-4 py-2 border border-medium-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",{"border-red-500":s.value.email}])},null,2),[[j,t.value.email]]),s.value.email?(d(),c("p",ee,h(s.value.email),1)):f("",!0)]),a("div",null,[r[14]||(r[14]=a("label",{for:"subject",class:"block text-dark-gray font-medium mb-2"},"Subject",-1)),k(a("input",{type:"text",id:"subject","onUpdate:modelValue":r[4]||(r[4]=m=>t.value.subject=m),class:S(["w-full px-4 py-2 border border-medium-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",{"border-red-500":s.value.subject}])},null,2),[[j,t.value.subject]]),s.value.subject?(d(),c("p",te,h(s.value.subject),1)):f("",!0)]),a("div",null,[r[15]||(r[15]=a("label",{for:"message",class:"block text-dark-gray font-medium mb-2"},"Message",-1)),k(a("textarea",{id:"message","onUpdate:modelValue":r[5]||(r[5]=m=>t.value.message=m),rows:"4",class:S(["w-full px-4 py-2 border border-medium-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",{"border-red-500":s.value.message}])},null,2),[[j,t.value.message]]),s.value.message?(d(),c("p",se,h(s.value.message),1)):f("",!0)]),a("button",{type:"submit",class:"w-full bg-primary text-white py-3 rounded-lg hover:bg-opacity-90 transition-colors",disabled:l.value},h(l.value?"Sending...":"Send Message"),9,re)],32)])])]))}};export{oe as default};
