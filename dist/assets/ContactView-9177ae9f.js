import{f as h,o as m,c as d,a as r,g as b,h as E,i as w,v as j,n as x,t as P,b as _}from"./index-85dcb5a6.js";class k{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const K=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},i={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:K()},S=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},F=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=S(e);i.publicKey=s.publicKey,i.blockHeadless=s.blockHeadless,i.storageProvider=s.storageProvider,i.blockList=s.blockList,i.limitRate=s.limitRate,i.origin=s.origin||t},L=async(e,t,s={})=>{const l=await fetch(i.origin+e,{method:"POST",headers:s,body:t}),o=await l.text(),n=new k(l.status,o);if(l.ok)return n;throw n},T=(e,t,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},N=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},V=e=>e.webdriver||!e.languages||e.languages.length===0,M=()=>new k(451,"Unavailable For Headless Browser"),q=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},z=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},O=(e,t)=>e instanceof FormData?e.get(t):e[t],R=(e,t)=>{if(z(e))return!1;q(e.list,e.watchVariable);const s=O(t,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},H=()=>new k(403,"Forbidden"),U=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},D=async(e,t,s)=>{const l=Number(await s.get(e)||0);return t-Date.now()+l},B=async(e,t,s)=>{if(!t.throttle||!s)return!1;U(t.throttle,t.id);const l=t.id||e;return await D(l,t.throttle,s)>0?!0:(await s.set(l,Date.now().toString()),!1)},C=()=>new k(429,"Too Many Requests"),A=async(e,t,s,l)=>{const o=S(l),n=o.publicKey||i.publicKey,v=o.blockHeadless||i.blockHeadless,f=o.storageProvider||i.storageProvider,p={...i.blockList,...o.blockList},g={...i.limitRate,...o.limitRate};return v&&V(navigator)?Promise.reject(M()):(T(n,e,t),N(s),s&&R(p,s)?Promise.reject(H()):await B(location.pathname,g,f)?Promise.reject(C()):L("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:n,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"}))},I=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},J=e=>typeof e=="string"?document.querySelector(e):e,$=async(e,t,s,l)=>{const o=S(l),n=o.publicKey||i.publicKey,v=o.blockHeadless||i.blockHeadless,f=i.storageProvider||o.storageProvider,p={...i.blockList,...o.blockList},g={...i.limitRate,...o.limitRate};if(v&&V(navigator))return Promise.reject(M());const y=J(s);T(n,e,t),I(y);const u=new FormData(y);return R(p,u)?Promise.reject(H()):await B(location.pathname,g,f)?Promise.reject(C()):(u.append("lib_version","4.4.1"),u.append("service_id",e),u.append("template_id",t),u.append("user_id",n),L("/api/v1.0/email/send-form",u))},G={init:F,send:A,sendForm:$,EmailJSResponseStatus:k},W={class:"min-h-screen from-primary/5 to-primary/10 py-16"},Y={class:"container mx-auto px-4"},Q={key:0,class:"fixed top-4 right-4 glass-card bg-green-100/80 text-green-700 flex items-center gap-2",role:"alert"},X={key:1,class:"fixed top-4 right-4 glass-card bg-red-100/80 text-red-700 flex items-center gap-2",role:"alert"},Z={class:"max-w-2xl mx-auto"},ee={key:0,class:"text-red-500 text-sm mt-1"},te={key:0,class:"text-red-500 text-sm mt-1"},se={key:0,class:"text-red-500 text-sm mt-1"},ae={key:0,class:"text-red-500 text-sm mt-1"},re=["disabled"],oe={key:0,class:"flex items-center justify-center gap-2"},le={key:1},ne={__name:"ContactView",setup(e){const t=h({name:"",email:"",subject:"",message:""}),s=h({}),l=h(!1),o=h(!1),n=h(!1),v="service_z2yb0ao",f="contact_form",p="5hPvNUuzRU6-tDGon";console.log("EmailJS Config:",{serviceId:v,templateId:f,publicKey:"Set"});const g=()=>(s.value={},t.value.name||(s.value.name="Name is required"),t.value.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.value.email)||(s.value.email="Please enter a valid email address"):s.value.email="Email is required",t.value.subject||(s.value.subject="Subject is required"),t.value.message||(s.value.message="Message is required"),Object.keys(s.value).length===0),y=async()=>{if(g()){l.value=!0,o.value=!1,n.value=!1;try{const u={from_name:t.value.name,from_email:t.value.email,subject:t.value.subject,message:t.value.message,to_name:"Grand Kru Technologies",reply_to:t.value.email};if((await G.send(v,f,u,p)).status===200)t.value={name:"",email:"",subject:"",message:""},o.value=!0;else throw new Error("Email sending failed")}catch(u){console.error("Error sending email:",u),n.value=!0}finally{l.value=!1}}};return(u,a)=>(m(),d("div",W,[r("div",Y,[o.value?(m(),d("div",Q,[a[7]||(a[7]=r("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),a[8]||(a[8]=r("span",null,"Your message has been sent successfully!",-1)),r("button",{onClick:a[0]||(a[0]=c=>o.value=!1),class:"ml-2 hover:scale-110 transition-transform"},a[6]||(a[6]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])):b("",!0),n.value?(m(),d("div",X,[a[10]||(a[10]=r("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),a[11]||(a[11]=r("span",null,"An error occurred. Please try again.",-1)),r("button",{onClick:a[1]||(a[1]=c=>n.value=!1),class:"ml-2 hover:scale-110 transition-transform"},a[9]||(a[9]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])):b("",!0),r("div",Z,[r("form",{onSubmit:E(y,["prevent"]),class:"glass-card space-y-6"},[r("div",null,[a[12]||(a[12]=r("label",{for:"name",class:"block text-dark-gray font-medium mb-2"},"Name",-1)),w(r("input",{type:"text",id:"name","onUpdate:modelValue":a[2]||(a[2]=c=>t.value.name=c),class:x(["glass-input w-full",{"border-red-500":s.value.name}])},null,2),[[j,t.value.name]]),s.value.name?(m(),d("p",ee,P(s.value.name),1)):b("",!0)]),r("div",null,[a[13]||(a[13]=r("label",{for:"email",class:"block text-dark-gray font-medium mb-2"},"Email",-1)),w(r("input",{type:"email",id:"email","onUpdate:modelValue":a[3]||(a[3]=c=>t.value.email=c),class:x(["glass-input w-full",{"border-red-500":s.value.email}])},null,2),[[j,t.value.email]]),s.value.email?(m(),d("p",te,P(s.value.email),1)):b("",!0)]),r("div",null,[a[14]||(a[14]=r("label",{for:"subject",class:"block text-dark-gray font-medium mb-2"},"Subject",-1)),w(r("input",{type:"text",id:"subject","onUpdate:modelValue":a[4]||(a[4]=c=>t.value.subject=c),class:x(["glass-input w-full",{"border-red-500":s.value.subject}])},null,2),[[j,t.value.subject]]),s.value.subject?(m(),d("p",se,P(s.value.subject),1)):b("",!0)]),r("div",null,[a[15]||(a[15]=r("label",{for:"message",class:"block text-dark-gray font-medium mb-2"},"Message",-1)),w(r("textarea",{id:"message","onUpdate:modelValue":a[5]||(a[5]=c=>t.value.message=c),rows:"4",class:x(["glass-input w-full resize-none",{"border-red-500":s.value.message}])},null,2),[[j,t.value.message]]),s.value.message?(m(),d("p",ae,P(s.value.message),1)):b("",!0)]),r("button",{type:"submit",class:"glass-button w-full bg-primary",disabled:l.value},[l.value?(m(),d("span",oe,a[16]||(a[16]=[r("svg",{class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),_(" Sending... ")]))):(m(),d("span",le,"Send Message"))],8,re)],32)])])]))}};export{ne as default};
